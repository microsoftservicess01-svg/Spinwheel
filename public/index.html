<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lucky Draw – Daily Quiz</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

  <div class="container">
    <h1>Daily Gift Voucher Draw</h1>

    <div class="card" style="padding: 26px; text-align:center;">
      <p class="muted" style="margin-bottom:20px;">
        Answer today's quiz correctly & stand a chance to win a ₹200 voucher.
      </p>

      <button 
        onclick="window.location='/quiz.html'"
        style="
          padding:16px 20px;
          background:#2874f0;
          border:0;
          border-radius:10px;
          color:#fff;
          font-size:18px;
          font-weight:700;
          cursor:pointer;
          width:100%;
          max-width:320px;
        ">
        ⭐ Daily Quiz (Answer & Qualify)
      </button>
    </div>

    <div class="card" style="padding: 20px; margin-top:20px;">
      <h3>Today's winner</h3>
      <p id="today-winner">Loading...</p>
    </div>
  </div>

  <script>
    // Load winner name from backend
    async function loadWinner(){
      try {
        const r = await fetch('/api/winner/latest');
        const t = await r.json();
        const w = t.winner;
        if (w && w.winner_client_id) {
          document.getElementById('today-winner').innerText =
            w.winner_client_id + " (Date: " + w.winner_date + ")";
        } else {
          document.getElementById('today-winner').innerText = "No winner yet";
        }
      } catch (e) {
        document.getElementById('today-winner').innerText = "Winner will be announced after 12:00 AM";
      }
    }
    loadWinner();
  </script>

</body>
</html>
